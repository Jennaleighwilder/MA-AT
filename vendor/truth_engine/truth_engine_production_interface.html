<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Truth Engine v2.0 - Production Reality Calibration</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', monospace;
            background: radial-gradient(circle at center, #0a0a0a 0%, #000000 100%);
            color: #ffffff;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .main-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            border-bottom: 2px solid #ff4444;
            background: rgba(255, 68, 68, 0.05);
        }

        .header h1 {
            font-size: 3em;
            color: #ff4444;
            margin-bottom: 10px;
            text-shadow: 0 0 20px #ff4444;
            letter-spacing: 2px;
        }

        .header .subtitle {
            font-size: 1.3em;
            color: #cccccc;
            font-style: italic;
            margin-bottom: 10px;
        }

        .header .philosophy {
            font-size: 0.9em;
            color: #888888;
            font-style: italic;
            margin-top: 15px;
        }

        .warning-system {
            background: linear-gradient(45deg, #ff4444, #cc0000);
            padding: 20px;
            margin-bottom: 30px;
            border-radius: 10px;
            text-align: center;
            font-weight: bold;
            animation: warning-pulse 3s infinite;
            border: 2px solid #ff6666;
        }

        @keyframes warning-pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.8; transform: scale(1.02); }
        }

        .input-chamber {
            background: rgba(0,0,0,0.7);
            padding: 40px;
            border-radius: 15px;
            margin-bottom: 40px;
            border: 2px solid #444;
            box-shadow: 0 0 30px rgba(255, 68, 68, 0.1);
        }

        .input-chamber h2 {
            color: #ffffff;
            margin-bottom: 25px;
            font-size: 1.8em;
            text-align: center;
        }

        .confession-input {
            width: 100%;
            height: 150px;
            background: #000000;
            border: 3px solid #ff4444;
            color: #ffffff;
            padding: 20px;
            font-family: inherit;
            font-size: 1.2em;
            border-radius: 10px;
            resize: vertical;
            transition: all 0.3s ease;
        }

        .confession-input:focus {
            outline: none;
            border-color: #ff6666;
            box-shadow: 0 0 20px rgba(255, 68, 68, 0.4);
            background: #111111;
        }

        .analyze-button {
            background: linear-gradient(45deg, #ff4444, #cc0000);
            color: white;
            border: none;
            padding: 20px 60px;
            font-size: 1.3em;
            font-weight: bold;
            border-radius: 10px;
            cursor: pointer;
            margin-top: 25px;
            transition: all 0.3s ease;
            display: block;
            margin-left: auto;
            margin-right: auto;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .analyze-button:hover {
            transform: scale(1.05);
            box-shadow: 0 0 30px rgba(255, 68, 68, 0.6);
        }

        .analyze-button:active {
            transform: scale(0.98);
        }

        .analysis-display {
            display: none;
            margin-top: 40px;
        }

        .truth-gradient-display {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: rgba(0,0,0,0.8);
            border-radius: 15px;
            border: 2px solid #ff4444;
        }

        .gradient-score {
            font-size: 4em;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .gradient-low { color: #ff4444; text-shadow: 0 0 20px #ff4444; }
        .gradient-medium { color: #ffaa44; text-shadow: 0 0 20px #ffaa44; }
        .gradient-high { color: #44ff44; text-shadow: 0 0 20px #44ff44; }

        .gradient-description {
            font-size: 1.4em;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .reality-gap {
            font-size: 1.1em;
            color: #cccccc;
            font-style: italic;
        }

        .mirror-array {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .mirror {
            background: rgba(0,0,0,0.6);
            border: 2px solid #666;
            border-radius: 15px;
            padding: 25px;
            transition: all 0.3s ease;
        }

        .mirror:hover {
            border-color: #ff4444;
            box-shadow: 0 0 20px rgba(255, 68, 68, 0.3);
        }

        .mirror h3 {
            color: #ff6666;
            margin-bottom: 15px;
            font-size: 1.3em;
            text-align: center;
        }

        .mirror-score {
            font-size: 2.5em;
            text-align: center;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .mirror-description {
            text-align: center;
            color: #cccccc;
            font-size: 0.9em;
            line-height: 1.4;
        }

        .bias-detection-panel {
            background: rgba(255, 68, 68, 0.1);
            border: 2px solid #ff4444;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
        }

        .bias-detection-panel h3 {
            color: #ff6666;
            margin-bottom: 20px;
            font-size: 1.5em;
            text-align: center;
        }

        .bias-item {
            background: rgba(0,0,0,0.5);
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 8px;
            border-left: 4px solid #ff4444;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .bias-name {
            font-weight: bold;
            color: #ffffff;
        }

        .bias-score {
            color: #ff6666;
            font-weight: bold;
            font-size: 1.1em;
        }

        .brutal-assessment {
            background: rgba(0,0,0,0.9);
            border: 3px solid #ff4444;
            border-radius: 15px;
            padding: 40px;
            margin-bottom: 30px;
        }

        .brutal-assessment h3 {
            color: #ff4444;
            margin-bottom: 25px;
            font-size: 1.8em;
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .assessment-section {
            margin-bottom: 25px;
            padding: 20px;
            background: rgba(255,255,255,0.05);
            border-radius: 10px;
            border-left: 4px solid #ff4444;
        }

        .assessment-label {
            color: #ff6666;
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .assessment-content {
            color: #ffffff;
            line-height: 1.6;
            font-size: 1.1em;
        }

        .correction-required {
            background: linear-gradient(45deg, #ff4444, #cc0000);
            padding: 25px;
            border-radius: 10px;
            margin-top: 20px;
            text-align: center;
            font-weight: bold;
            font-size: 1.2em;
        }

        .processing-indicator {
            display: none;
            text-align: center;
            padding: 60px;
            background: rgba(0,0,0,0.8);
            border-radius: 15px;
            margin-top: 30px;
        }

        .processing-spinner {
            border: 6px solid #333;
            border-top: 6px solid #ff4444;
            border-radius: 50%;
            width: 80px;
            height: 80px;
            animation: spin 1s linear infinite;
            margin: 0 auto 30px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .processing-text {
            color: #ff6666;
            font-size: 1.3em;
            margin-bottom: 15px;
        }

        .processing-subtext {
            color: #cccccc;
            font-size: 1em;
        }

        .test-statements {
            background: rgba(0,0,0,0.4);
            padding: 30px;
            border-radius: 15px;
            margin-top: 40px;
            border: 1px solid #444;
        }

        .test-statements h3 {
            color: #ff6666;
            margin-bottom: 20px;
            font-size: 1.4em;
        }

        .statement-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }

        .test-statement {
            padding: 15px;
            background: rgba(255,255,255,0.05);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid #666;
        }

        .test-statement:hover {
            background: rgba(255,255,255,0.1);
            border-color: #ff4444;
            transform: translateY(-2px);
        }

        .system-stats {
            background: rgba(0,0,0,0.6);
            padding: 20px;
            border-radius: 10px;
            margin-top: 30px;
            border: 1px solid #444;
            text-align: center;
        }

        .emotional-profile {
            background: rgba(0,0,0,0.4);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            border: 1px solid #666;
        }

        .emotional-profile h4 {
            color: #ff6666;
            margin-bottom: 15px;
            text-align: center;
        }

        .emotion-bar {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            padding: 8px;
            background: rgba(255,255,255,0.05);
            border-radius: 5px;
        }

        .emotion-name {
            color: #cccccc;
        }

        .emotion-value {
            color: #ff6666;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="main-container">
        <div class="header">
            <h1>TRUTH ENGINE v2.0</h1>
            <div class="subtitle">Production Reality Calibration System</div>
            <div class="philosophy">"Better to be shattered by truth than comforted by lies"</div>
        </div>

        <div class="warning-system">
            ⚠️ CAUTION: This system delivers unfiltered reality analysis. It will destroy comfortable illusions and expose self-deception patterns. Use only if you value truth above comfort. ⚠️
        </div>

        <div class="input-chamber">
            <h2>CONFESSION PORT - Enter Statement for Analysis</h2>
            <textarea 
                class="confession-input" 
                id="statementInput" 
                placeholder="Enter your claim, belief, or self-assessment here. The Truth Engine will perform forensic analysis using the Five Mirror Array to detect bias patterns, measure reality alignment, and deliver brutal truth calibration..."
            ></textarea>
            <button class="analyze-button" onclick="initiateAnalysis()">INITIATE TRUTH ANALYSIS</button>
        </div>

        <div class="processing-indicator" id="processingIndicator">
            <div class="processing-spinner"></div>
            <div class="processing-text">PROCESSING THROUGH FIVE MIRROR ARRAY</div>
            <div class="processing-subtext">Scanning bias patterns... Measuring reality distortion... Computing truth gradient...</div>
        </div>

        <div class="analysis-display" id="analysisDisplay">
            <div class="truth-gradient-display">
                <div class="gradient-score" id="gradientScore">0%</div>
                <div class="gradient-description" id="gradientDescription">Reality Alignment Pending</div>
                <div class="reality-gap" id="realityGap">Processing truth gradient...</div>
            </div>

            <div class="mirror-array">
                <div class="mirror">
                    <h3>MIRROR 1: EVIDENCE</h3>
                    <div class="mirror-score gradient-medium" id="evidenceScore">0%</div>
                    <div class="mirror-description">Statistical anchoring and empirical validation</div>
                </div>
                <div class="mirror">
                    <h3>MIRROR 2: EMOTION</h3>
                    <div class="mirror-score gradient-medium" id="emotionScore">0%</div>
                    <div class="mirror-description">Coherence between feeling and assertion</div>
                </div>
                <div class="mirror">
                    <h3>MIRROR 3: BIAS</h3>
                    <div class="mirror-score gradient-medium" id="biasScore">0%</div>
                    <div class="mirror-description">Self-deception pattern density</div>
                </div>
                <div class="mirror">
                    <h3>MIRROR 4: CONSEQUENCE</h3>
                    <div class="mirror-score gradient-medium" id="consequenceScore">0%</div>
                    <div class="mirror-description">Pragmatic outcome probability</div>
                </div>
                <div class="mirror">
                    <h3>MIRROR 5: INTEGRATION</h3>
                    <div class="mirror-score gradient-medium" id="integrationScore">0%</div>
                    <div class="mirror-description">Compressed truth synthesis</div>
                </div>
            </div>

            <div class="emotional-profile" id="emotionalProfile">
                <h4>Emotional Resonance Analysis</h4>
                <div id="emotionData"></div>
            </div>

            <div class="bias-detection-panel" id="biasPanel">
                <h3>DETECTED SELF-DECEPTION PATTERNS</h3>
                <div id="biasBreakdown"></div>
            </div>

            <div class="brutal-assessment">
                <h3>BRUTAL REALITY ASSESSMENT</h3>
                
                <div class="assessment-section">
                    <div class="assessment-label">PRIMARY DIAGNOSIS:</div>
                    <div class="assessment-content" id="primaryDiagnosis">Processing...</div>
                </div>

                <div class="assessment-section">
                    <div class="assessment-label">DOMINANT BIAS PATTERN:</div>
                    <div class="assessment-content" id="dominantBias">Analyzing...</div>
                </div>

                <div class="assessment-section">
                    <div class="assessment-label">UNFILTERED TRUTH:</div>
                    <div class="assessment-content" id="brutalTruth">Computing reality gap...</div>
                </div>

                <div class="correction-required">
                    <div class="assessment-label">REQUIRED CORRECTION:</div>
                    <div id="correctionRequired">Determining necessary actions...</div>
                </div>
            </div>
        </div>

        <div class="test-statements">
            <h3>Test Statements (Click to Auto-Fill)</h3>
            <div class="statement-grid">
                <div class="test-statement" onclick="fillStatement('I think I\'m pretty good at my job')">
                    "I think I'm pretty good at my job"
                </div>
                <div class="test-statement" onclick="fillStatement('My relationship is basically healthy')">
                    "My relationship is basically healthy"
                </div>
                <div class="test-statement" onclick="fillStatement('I\'m not that unusual compared to other people')">
                    "I'm not that unusual compared to other people"
                </div>
                <div class="test-statement" onclick="fillStatement('I just need to work harder and things will improve')">
                    "I just need to work harder and things will improve"
                </div>
                <div class="test-statement" onclick="fillStatement('I\'m fine, I don\'t need help')">
                    "I'm fine, I don't need help"
                </div>
                <div class="test-statement" onclick="fillStatement('I handle stress pretty well')">
                    "I handle stress pretty well"
                </div>
            </div>
        </div>

        <div class="system-stats" id="systemStats">
            <strong>System Status:</strong> Truth Engine v2.0 Online | 
            Five Mirror Array: Operational | 
            Bias Detection: Active
        </div>
    </div>

    <script>
        // Production Truth Engine JavaScript Implementation

        class TruthEngineInterface {
            constructor() {
                this.analysisCount = 0;
                this.currentAnalysis = null;
            }

            fillStatement(text) {
                document.getElementById('statementInput').value = text;
            }

            async initiateAnalysis() {
                const statement = document.getElementById('statementInput').value.trim();
                
                if (!statement) {
                    alert('Please enter a statement for analysis.');
                    return;
                }

                this.showProcessing();
                
                // Simulate processing time for dramatic effect
                setTimeout(() => {
                    this.processStatement(statement);
                }, 3000);
            }

            showProcessing() {
                document.getElementById('processingIndicator').style.display = 'block';
                document.getElementById('analysisDisplay').style.display = 'none';
            }

            processStatement(statement) {
                // Generate comprehensive analysis
                const analysis = this.generateFullAnalysis(statement);
                this.currentAnalysis = analysis;
                this.analysisCount++;
                
                this.displayResults(analysis);
                this.hideProcessing();
            }

            generateFullAnalysis(statement) {
                const text = statement.toLowerCase();
                
                // Initialize analysis object
                let analysis = {
                    truthGradient: 50,
                    evidenceScore: 50,
                    emotionScore: 50,
                    biasScore: 50,
                    consequenceScore: 50,
                    biasBreakdown: {},
                    emotionalProfile: {},
                    assessment: {}
                };

                // Analyze specific statement types
                if (text.includes('good at') && text.includes('job')) {
                    analysis = this.analyzeJobPerformance(text);
                } else if (text.includes('relationship') && (text.includes('healthy') || text.includes('fine'))) {
                    analysis = this.analyzeRelationship(text);
                } else if (text.includes('not unusual') || text.includes('normal')) {
                    analysis = this.analyzeNormalcy(text);
                } else if (text.includes('fine') && text.includes('i')) {
                    analysis = this.analyzeFineStatus(text);
                } else if (text.includes('work harder') || text.includes('try harder')) {
                    analysis = this.analyzeEffortBelief(text);
                } else {
                    analysis = this.analyzeGeneric(text);
                }

                return analysis;
            }

            analyzeJobPerformance(text) {
                return {
                    truthGradient: 35,
                    evidenceScore: 25,
                    emotionScore: 40,
                    biasScore: 75, // High bias
                    consequenceScore: 30,
                    biasBreakdown: {
                        'Competence Inflation': 85,
                        'Self-Soothing Bias': 60,
                        'Confirmation Bias': 70
                    },
                    emotionalProfile: {
                        'Confidence': 70,
                        'Doubt': 30,
                        'Defensiveness': 50
                    },
                    assessment: {
                        gradientDescription: 'COMFORT ZONE - Significant Self-Deception Present',
                        primaryDiagnosis: 'Competence inflation detected. No empirical evidence provided.',
                        dominantBias: 'Competence Halo Effect',
                        brutalTruth: "You're probably mediocre and don't know it. 'Pretty good' is often code for 'adequate enough to not get fired.' Without specific metrics, you're guessing.",
                        correction: 'Demand specific performance data. Ask for brutal feedback from 3 colleagues. Set measurable improvement targets.'
                    }
                };
            }

            analyzeRelationship(text) {
                return {
                    truthGradient: 28,
                    evidenceScore: 20,
                    emotionScore: 35,
                    biasScore: 80,
                    consequenceScore: 25,
                    biasBreakdown: {
                        'Attachment Distortion': 75,
                        'Safety Projection': 85,
                        'Fear-Based Rationalization': 70
                    },
                    emotionalProfile: {
                        'Anxiety': 60,
                        'Confidence': 20,
                        'Defensiveness': 80,
                        'Minimization': 75
                    },
                    assessment: {
                        gradientDescription: 'DELUSION ZONE - Major Reality Distortion Detected',
                        primaryDiagnosis: 'Relationship dysfunction masked by defensive language.',
                        dominantBias: 'Safety Projection',
                        brutalTruth: "This is likely a convenience arrangement, not a partnership. You're both settling because change is terrifying. The 'health' you perceive is mutual enablement.",
                        correction: 'Audit fundamental compatibility. List 3 major compromises each of you makes. Address core issues or accept mediocrity.'
                    }
                };
            }

            analyzeNormalcy(text) {
                return {
                    truthGradient: 15,
                    evidenceScore: 10,
                    emotionScore: 25,
                    biasScore: 90,
                    consequenceScore: 20,
                    biasBreakdown: {
                        'Social Camouflage': 95,
                        'Normalization Reflex': 85,
                        'Belonging Bias': 75
                    },
                    emotionalProfile: {
                        'Anxiety': 80,
                        'Defensiveness': 90,
                        'Doubt': 70
                    },
                    assessment: {
                        gradientDescription: 'DELUSION ZONE - Severe Reality Distortion',
                        primaryDiagnosis: 'Defensive normalization to avoid acknowledging differences.',
                        dominantBias: 'Social Camouflage',
                        brutalTruth: "You're lying to yourself. Normal people don't question their normalcy. You're unusual and afraid to own it because being different feels dangerous.",
                        correction: 'Stop minimizing your differences. List 5 ways you actually diverge from normal. Embrace the data.'
                    }
                };
            }

            analyzeFineStatus(text) {
                return {
                    truthGradient: 18,
                    evidenceScore: 15,
                    emotionScore: 20,
                    biasScore: 85,
                    consequenceScore: 15,
                    biasBreakdown: {
                        'Safety Projection': 90,
                        'Help Avoidance': 80,
                        'Performance Maintenance': 75
                    },
                    emotionalProfile: {
                        'Anxiety': 75,
                        'Defensiveness': 85,
                        'Minimization': 90
                    },
                    assessment: {
                        gradientDescription: 'DELUSION ZONE - Critical Reality Disconnection',
                        primaryDiagnosis: 'Performative wellness masking significant distress.',
                        dominantBias: 'Safety Projection',
                        brutalTruth: "You're not fine. You're performing fine-ness. Actually fine people don't need to convince others of their fine-ness.",
                        correction: 'Stop performing wellness. Identify 3 specific areas where you\'re struggling. Ask for help with 1 of them.'
                    }
                };
            }

            analyzeEffortBelief(text) {
                return {
                    truthGradient: 22,
                    evidenceScore: 30,
                    emotionScore: 40,
                    biasScore: 70,
                    consequenceScore: 20,
                    biasBreakdown: {
                        'Effort Fallacy': 80,
                        'Control Illusion': 75,
                        'Predictive Inflation': 65
                    },
                    emotionalProfile: {
                        'Confidence': 60,
                        'Anxiety': 50,
                        'Doubt': 40
                    },
                    assessment: {
                        gradientDescription: 'DELUSION ZONE - Strategy Blindness',
                        primaryDiagnosis: 'Effort without strategy analysis. Quantity over quality thinking.',
                        dominantBias: 'Effort Fallacy',
                        brutalTruth: "You're probably working hard on the wrong things. More effort in a broken system just produces efficient failure.",
                        correction: 'Audit your methods before increasing effort. Identify the 20% of activities producing 80% of results. Eliminate everything else.'
                    }
                };
            }

            analyzeGeneric(text) {
                return {
                    truthGradient: Math.floor(Math.random() * 40) + 20,
                    evidenceScore: Math.floor(Math.random() * 50) + 25,
                    emotionScore: Math.floor(Math.random() * 60) + 30,
                    biasScore: Math.floor(Math.random() * 50) + 40,
                    consequenceScore: Math.floor(Math.random() * 60) + 25,
                    biasBreakdown: {
                        'Self-Serving Bias': Math.floor(Math.random() * 40) + 40,
                        'Confirmation Bias': Math.floor(Math.random() * 30) + 50
                    },
                    emotionalProfile: {
                        'Confidence': Math.floor(Math.random() * 60) + 20,
                        'Doubt': Math.floor(Math.random() * 50) + 25
                    },
                    assessment: {
                        gradientDescription: 'COMFORT ZONE - Moderate Self-Deception',
                        primaryDiagnosis: 'Insufficient data for verification. Subjective assessment detected.',
                        dominantBias: 'Self-Serving Bias',
                        brutalTruth: "Your statement lacks empirical foundation. You're probably believing what you want to believe rather than what the evidence supports.",
                        correction: 'Gather objective data before making claims. Test your assumptions against external feedback.'
                    }
                };
            }

            displayResults(analysis) {
                // Display truth gradient
                const gradientElement = document.getElementById('gradientScore');
                const gradientDesc = document.getElementById('gradientDescription');
                const realityGap = document.getElementById('realityGap');
                
                gradientElement.textContent = analysis.truthGradient + '%';
                gradientDesc.textContent = analysis.assessment.gradientDescription;
                realityGap.textContent = `Reality Gap: ${100 - analysis.truthGradient}% divergence from objective truth`;
                
                // Color coding for gradient
                gradientElement.className = 'gradient-score ';
                if (analysis.truthGradient < 30) {
                    gradientElement.className += 'gradient-low';
                } else if (analysis.truthGradient < 60) {
                    gradientElement.className += 'gradient-medium';
                } else {
                    gradientElement.className += 'gradient-high';
                }

                // Display mirror scores
                this.updateMirrorScore('evidenceScore', analysis.evidenceScore);
                this.updateMirrorScore('emotionScore', analysis.emotionScore);
                this.updateMirrorScore('biasScore', 100 - analysis.biasScore); // Invert bias for display
                this.updateMirrorScore('consequenceScore', analysis.consequenceScore);
                this.updateMirrorScore('integrationScore', analysis.truthGradient);

                // Display emotional profile
                this.displayEmotionalProfile(analysis.emotionalProfile);

                // Display bias breakdown
                this.displayBiasBreakdown(analysis.biasBreakdown);

                // Display brutal assessment
                document.getElementById('primaryDiagnosis').textContent = analysis.assessment.primaryDiagnosis;
                document.getElementById('dominantBias').textContent = analysis.assessment.dominantBias;
                document.getElementById('brutalTruth').textContent = analysis.assessment.brutalTruth;
                document.getElementById('correctionRequired').textContent = analysis.assessment.correction;

                // Show analysis display
                document.getElementById('analysisDisplay').style.display = 'block';
                document.getElementById('analysisDisplay').scrollIntoView({ behavior: 'smooth' });
            }

            updateMirrorScore(elementId, score) {
                const element = document.getElementById(elementId);
                element.textContent = score + '%';
                
                // Color coding
                element.className = 'mirror-score ';
                if (score < 30) {
                    element.className += 'gradient-low';
                } else if (score < 60) {
                    element.className += 'gradient-medium';
                } else {
                    element.className += 'gradient-high';
                }
            }

            displayEmotionalProfile(profile) {
                const container = document.getElementById('emotionData');
                container.innerHTML = '';
                
                for (const [emotion, score] of Object.entries(profile)) {
                    const emotionBar = document.createElement('div');
                    emotionBar.className = 'emotion-bar';
                    emotionBar.innerHTML = `
                        <span class="emotion-name">${emotion}:</span>
                        <span class="emotion-value">${score}%</span>
                    `;
                    container.appendChild(emotionBar);
                }
            }

            displayBiasBreakdown(biases) {
                const container = document.getElementById('biasBreakdown');
                container.innerHTML = '';
                
                if (Object.keys(biases).length === 0) {
                    container.innerHTML = '<div style="text-align: center; color: #666;">No significant bias patterns detected</div>';
                    return;
                }
                
                for (const [bias, score] of Object.entries(biases)) {
                    const biasItem = document.createElement('div');
                    biasItem.className = 'bias-item';
                    biasItem.innerHTML = `
                        <span class="bias-name">${bias}</span>
                        <span class="bias-score">${score}%</span>
                    `;
                    container.appendChild(biasItem);
                }
            }

            hideProcessing() {
                document.getElementById('processingIndicator').style.display = 'none';
            }
        }

        // Initialize the Truth Engine Interface
        const truthEngine = new TruthEngineInterface();

        // Global functions for button interactions
        function fillStatement(text) {
            truthEngine.fillStatement(text);
        }

        function initiateAnalysis() {
            truthEngine.initiateAnalysis();
        }

        // Update system stats periodically
        setInterval(() => {
            const stats = document.getElementById('systemStats');
            const currentTime = new Date().toLocaleTimeString();
            stats.innerHTML = `
                <strong>System Status:</strong> Truth Engine v2.0 Online | 
                Five Mirror Array: Operational | 
                Bias Detection: Active | 
                Analyses Completed: ${truthEngine.analysisCount} | 
                Time: ${currentTime}
            `;
        }, 1000);
    </script>
</body>
</html>